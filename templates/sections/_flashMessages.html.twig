{% for type, messages in app.flashes %}
    {% for message in messages %}
        <div class="flash-alert py-4 px-6 mb-4 mx-10 border rounded-lg transition-all duration-500 {{ type == 'success' ? 'bg-green-50 border-green-200 text-green-700' : 'bg-red-100 border-red-200 text-red-800' }}" role="alert">
            <div class="flex items-center justify-between">
                <div class="flex items-center gap-3">
                    <span class="text-2xl">{{ type == 'success' ? '✓' : '✗' }}</span>
                    <p class="font-medium">{{ message }}</p>
                </div>
                <button onclick="fadeOutAlert(this)" class="text-3xl font-light {{ type == 'success' ? 'text-green-500 hover:text-green-700' : 'text-red-600 hover:text-red-800' }}">
                    ×
                </button>
            </div>
        </div>
    {% endfor %}
{% endfor %}

<script>
    function fadeOutAlert(button) {
        const alert = button.closest('.flash-alert');
        alert.style.opacity = '0';
        alert.style.transform = 'translateY(-20px)';
        setTimeout(() => alert.remove(), 500);
    }

    // auto-fermeture après 10 secondes avec animation
    setTimeout(() => {
        document.querySelectorAll('.flash-alert').forEach(el => {
            el.style.opacity = '0';
            el.style.transform = 'translateY(-20px)';
            setTimeout(() => el.remove(), 500);
        });
    }, 10000);
</script>

