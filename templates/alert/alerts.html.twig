{% extends 'base.html.twig' %}

{% block metadescription %}{% endblock %}
{% block keywords %}{% endblock %}
{% block robots %}index, follow{% endblock %}

{% block title %}CyanoAlerte - Liste des alertes de cyanobactéries{% endblock %}

{% block body %}
<main>
    <span class="">Retour à l'accueil</span>
    <h1>Liste des alertes de cyanobactéries</h1>
    <p>
        Consultez l'ensemble des signalements de cyanobactéries. Utilisez les filtres pour rechercher par secteur ou par niveau d'alerte.
    </p>


    <section class="">
        {% for alert in alerts %}
        <div>
            <article class="mb-6 p-4 border border-gray-300 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-200">
                <h2 class="text-2xl font-semibold text-green-800 mb-2">{{ alert.waterbody.name }}{{alert.waterbody.type }}</h2>
                <p class="text-gray-700 mb-1"><strong>Niveau de toxicité :</strong> {{ alert.toxicityLevel }}</p>
                <p class="text-gray-700 mb-1"><strong>Localisation :</strong> {{ alert.waterbody.city }}, Département {{ alert.waterbody.department }}</p>
                <p class="text-gray-700 mb-3"><strong>Description :</strong> {{ alert.description }}</p>
                <p class="text-sm text-gray-500">Signalé le {{ alert.createdAt|date('d/m/Y H:i') }}</p>
                <button><a href="{{ path('app_alert_detail', { id: alert.id }) }}">Voir les détails</a></button>
            </article>
        </div>
        {% endfor %}
    </section>
</main>

{% endblock %}
